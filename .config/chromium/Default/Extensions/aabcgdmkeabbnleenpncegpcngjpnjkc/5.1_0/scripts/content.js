/*Copyright (c) 2019 ksoft http://www.dummysoftware.com*/function CjBMv(e){var t=!1;if(e)for(var n=document.querySelectorAll("iframe"),u=0;u<n.length;u++){var r=n[u];try{if(r.contentDocument&&(t=e(r.contentDocument)))break}catch(e){}}return t}chrome.runtime.onMessage.addListener(function autoClickStatusUpdate(request,sender,sendResponse){if(-1!=request.action.indexOf("getAutoClickIdStatus")){var status="",autoClickId=request.action.replace("getAutoClickIdStatus","");if(null!=autoClickId&&autoClickId.length>0){var link=null;try{link=0==autoClickId.indexOf("document.")?eval(autoClickId):document.querySelector(autoClickId)}catch(e){}status=null!=link?"OK":"Error"}sendResponse({result:status})}else if(-1!=request.action.indexOf("findText")){var status=!1,text=request.action.replace("findText","").trim();if(null!=text&&text.length>0){var element=null;try{element=document.querySelector(text)}catch(e){}if(element||(element=CjBMv(function(e){return null!=e.querySelector(text)})||null),!(status=null!=element)){var regEx=new RegExp(text,"i"),matches=request.isText?document.body.innerText.match(regEx):document.body.innerHTML.match(regEx);status=matches&&matches.length>0,status||(status=CjBMv(function(e){return(matches=request.isText?e.body.innerText.match(regEx):e.body.innerHTML.match(regEx))&&matches.length>0}))}}sendResponse({result:status})}chrome.runtime.onMessage.removeListener(autoClickStatusUpdate)});